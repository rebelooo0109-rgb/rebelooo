<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>rebel ooo</title>
<style>
    body {
        margin: 0;
        background-color: #121212;
        color: #ffffff;
        font-family: Arial, Helvetica, sans-serif;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        overflow: hidden;
    }

    #carinha {
        font-size: clamp(5rem, 15vw, 10rem);
        position: relative;
        cursor: pointer;
        user-select: none;
        transition: transform 0.3s ease, opacity 0.3s ease;
        opacity: 1;
        z-index: 2;
    }

    .texto-direita {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 1.5rem;
        text-align: right;
    }

    .mensagem-baixo {
        position: absolute;
        bottom: 10%; /* sobe um pouco para não ficar fora da tela no celular */
        width: 100%;
        text-align: center;
        font-size: 1.2rem;
        color: #aaa;
        opacity: 0;
        transition: opacity 0.3s ease;
        pointer-events: none;
        z-index: 1;
    }
    .mensagem-baixo.show {
        opacity: 1;
    }

    .poema-centro {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%) rotate(-8deg);
        text-align: center;
        font-size: clamp(1rem, 3vw, 1.4rem);
        font-style: italic;
        line-height: 1.6;
        color: #ddd;
        opacity: 0;
        transition: opacity 0.6s ease;
        white-space: pre-line;
        max-width: 90vw; /* mais responsivo para telas pequenas */
        z-index: 3;
    }
    .poema-centro.show {
        opacity: 1;
    }
</style>
</head>
<body>
<div id="carinha" role="button" tabindex="0">:)</div>
<div class="texto-direita">rebel ooo<br>0109</div>
<div class="mensagem-baixo" id="mensagem">dclp, vc ainda está ai?</div>
<div class="poema-centro" id="poema">
da mi basia mille, deinde centum,
dein mille altera, dein secunda centum,
deinde usque altera mille, deinde centum.
dein, cum milia multa fecerimus,
conturbabimus illa, ne sciamus,
aut nequis malus invidere possit,
cum tantum sciat esse basiorum.
</div>

<script>
const carinha = document.getElementById('carinha');
const mensagem = document.getElementById('mensagem');
const poema = document.getElementById('poema');

let piscando = false;
let pulando = false;
let escala = 1;
let deslocY = 0;
function aplicarTransform() {
    carinha.style.transform = `translateY(${deslocY}px) scale(${escala})`;
}

// Piscadinha
function piscar() {
    if (piscando) return;
    piscando = true;
    carinha.textContent = ";)";
    escala = 1.2;
    aplicarTransform();
    setTimeout(() => {
        carinha.textContent = ":)";
        escala = 1;
        aplicarTransform();
        piscando = false;
    }, 500);
}

// Pulo
function pular() {
    if (pulando) return;
    pulando = true;
    deslocY = -150;
    aplicarTransform();
    setTimeout(() => {
        deslocY = 0;
        aplicarTransform();
        pulando = false;
    }, 400);
}

// Inatividade
let lastActivity = Date.now();
let messageShown = false;
let poemShown = false;

function mostrarMensagem() {
    mensagem.classList.add('show');
    messageShown = true;
}
function esconderMensagem() {
    mensagem.classList.remove('show');
    messageShown = false;
}
function mostrarPoema() {
    poema.classList.add('show');
    carinha.style.opacity = 0;
    poemShown = true;
}
function esconderPoema() {
    poema.classList.remove('show');
    carinha.style.opacity = 1;
    poemShown = false;
}
function resetarInatividade() {
    lastActivity = Date.now();
    if (messageShown) esconderMensagem();
    if (poemShown) esconderPoema();
}

// Interação
function interagir() {
    piscar();
    pular();
    resetarInatividade();
}

// Eventos PC + celular
carinha.addEventListener('click', interagir);
carinha.addEventListener('touchstart', (e) => {
    e.preventDefault(); // garante que o toque seja capturado
    interagir();
}, { passive: false });
document.addEventListener('keydown', (e) => {
    if (e.code === 'Space' || e.code === 'Enter') {
        e.preventDefault();
        interagir();
    } else {
        resetarInatividade();
    }
});
document.addEventListener('mousemove', resetarInatividade);
document.addEventListener('touchmove', resetarInatividade, { passive: true });

// Verificador de inatividade
setInterval(() => {
    const elapsed = Date.now() - lastActivity;

    if (elapsed >= 10000 && !messageShown && !poemShown) {
        pular();
        mostrarMensagem();
    }
    if (elapsed >= 25000 && !poemShown) {
        esconderMensagem();
        mostrarPoema();
    }
}, 250);

// Inicializa
aplicarTransform();
resetarInatividade();
</script>
</body>
</html>
